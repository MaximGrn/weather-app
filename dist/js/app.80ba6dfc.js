(function(t){function e(e){for(var a,i,o=e[0],s=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},c=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09c3":function(t,e,n){},2473:function(t,e,n){},"35ea":function(t,e,n){},4042:function(t,e,n){"use strict";n("da96")},"500d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Home")],1)},c=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"home-page__wrapper"},[n("Search",{on:{onSelect:t.selectHandler}}),n("div",{staticClass:"home-page__body"},[n("div",{staticClass:"home-page__controls"},[n("Button",{staticClass:"home-page__control",attrs:{text:"current",isActive:t.isDailyActive},nativeOn:{click:function(e){return t.setActiveForecast("DailyForecast")}}}),n("Button",{staticClass:"home-page__control",attrs:{text:"7 day forecast",isActive:!t.isDailyActive},nativeOn:{click:function(e){return t.setActiveForecast("WeeklyForecast")}}})],1),n("div",{staticClass:"home-page__forecasts"},[n("div",{staticClass:"home-page__forecasts-location"},[n("p",{staticClass:"home-page__forecast-city"},[t._v(" "+t._s(t.city)+" ")]),n("p",{staticClass:"home-page__forecast-country"},[t._v(" "+t._s(t.country)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isDailyActive,expression:"isDailyActive"}],staticClass:"home-page__active-forecast"},[t.dailyForecast.icon?n("DailyForecast",{attrs:{icon:t.dailyForecast.icon,weather:t.dailyForecast.weather,temperature:t.dailyForecast.temperature}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDailyActive,expression:"!isDailyActive"}],staticClass:"home-page__active-forecast"},t._l(t.weeklyForecast,(function(t,e){return n("WeeklyForecast",{key:e,attrs:{icon:t.icon,weather:t.weather,averageTemperature:t.avgTemp,date:t.date}})})),1)])])],1)])},o=[],s=n("5530"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-component"},[n("Input",{staticClass:"search-component__input",attrs:{inputText:t.searchQuery},on:{onInputChange:t.inputHandler},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.upDownHandler(1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.upDownHandler(-1)}],keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterHandler.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.CLEAR_SUGGESTIONS.apply(null,arguments)}]}},[n("div",{staticClass:"search-component__search-btn"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"inherit",d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,\n          14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,\n          16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,\n          3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,\n          12 14,9.5C14,7 12,5 9.5,5Z"}})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.suggestions.length,expression:"suggestions.length"}],staticClass:"search-component__suggestions"},t._l(t.suggestions,(function(e,a){return n("div",{key:a,ref:"sugg",refInFor:!0,staticClass:"search-component__suggestion",class:[t.activeSuggestedIndex===a?"search-component__suggestion--active":""],on:{click:function(n){return t.suggestionClickHandler(e.formatted,e)}}},[t._v(" "+t._s(e.formatted)+" ")])})),0)],1)},l=[],p=(n("7db0"),n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-component"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"input-component__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.text},on:{keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault()}],input:[function(e){e.target.composing||(t.text=e.target.value.trim())},t.inputHandler],blur:function(e){return t.$forceUpdate()}}}),t._t("default")],2)}),d=[],h={name:"Input",props:{placeholder:{type:String,default:"Search..."},inputText:{type:String,default:""}},data:function(){return{text:this.inputText}},methods:{inputHandler:function(){""===this.text||this.text.length<3||this.$emit("onInputChange",this.text)}},watch:{inputText:{handler:function(t){this.text=t}}}},f=h,g=(n("cf2e"),n("2877")),v=Object(g["a"])(f,p,d,!1,null,"7fe467ac",null),m=v.exports,y=n("2f62"),_=n("b012"),S=n.n(_),b=S()((function(t){var e=this.getCitiesSuggestions;e({query:t})}),1500),w={name:"Search",components:{Input:m},data:function(){return{searchQuery:"",activeSuggestedIndex:-1}},computed:Object(s["a"])({},Object(y["d"])("SearchAutocompletion",["suggestions"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(y["b"])("SearchAutocompletion",["getCitiesSuggestions"])),Object(y["c"])("SearchAutocompletion",["CLEAR_SUGGESTIONS"])),{},{inputHandler:function(t){this.searchQuery=t,b.call(this,t)},upDownHandler:function(t){if(this.suggestions.length){var e=1===t&&this.activeSuggestedIndex===this.suggestions.length-1,n=-1===t&&(0===this.activeSuggestedIndex||-1===this.activeSuggestedIndex);if(e)return this.activeSuggestedIndex=0,void this.fixScrolling(this.activeSuggestedIndex);if(n)return this.activeSuggestedIndex=this.suggestions.length-1,void this.fixScrolling(this.activeSuggestedIndex);this.activeSuggestedIndex+=t,this.fixScrolling(this.activeSuggestedIndex)}},fixScrolling:function(t){this.$refs.sugg[t].scrollIntoView()},enterHandler:function(){var t=this,e=this.suggestions[this.activeSuggestedIndex],n=e.lat,a=e.lon,r=e.city,c=e.country;this.searchQuery=this.suggestions.find((function(e){return e===t.suggestions[t.activeSuggestedIndex]})).formatted,this.$refs.sugg[0].scrollIntoView(),this.CLEAR_SUGGESTIONS(),this.$emit("onSelect",{lat:n,lon:a,city:r,country:c}),this.activeSuggestedIndex=-1},suggestionClickHandler:function(t,e){var n=e.lat,a=e.lon,r=e.city,c=e.country;this.searchQuery=t,this.CLEAR_SUGGESTIONS(),this.$emit("onSelect",{lat:n,lon:a,city:r,country:c}),this.activeSuggestedIndex=-1}})},x=w,E=(n("8bcf"),Object(g["a"])(x,u,l,!1,null,null,null)),O=E.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button-component"},[n("button",{staticClass:"button-component__button",class:{"button-component__button--active":t.isActive}},[t._v(" "+t._s(t.text)+" ")])])},k=[],A={name:"Button",props:{isActive:{type:Boolean,default:!1},text:{type:String,default:"Submit"}}},T=A,F=(n("82b0"),Object(g["a"])(T,C,k,!1,null,null,null)),I=F.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daily-forecast"},[n("img",{attrs:{src:t.getWeatherIcon()}}),n("p",{staticClass:"daily-forecast__temperature"},[t._v(" "+t._s(t.temperature)+" â„ƒ ")]),n("p",{staticClass:"daily-forecast__weather"},[t._v(" "+t._s(t.weather)+" ")])])},D=[],L=(n("a9e3"),{name:"DailyForecast",props:{temperature:{type:Number,default:20},weather:{type:String,default:"Clear"},icon:{type:String,default:"04d"}},methods:{getWeatherIcon:function(){return"http://openweathermap.org/img/wn/".concat(this.icon,"@2x.png")}}}),R=L,G=(n("ae72"),Object(g["a"])(R,j,D,!1,null,null,null)),H=G.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weekly-forecast"},[n("img",{attrs:{src:t.getWeatherIcon()}}),t._v(" Avg temp: "),n("p",[t._v(t._s(t.averageTemperature)+" ")]),n("p",[t._v(t._s(t.weather))]),n("p",[t._v(t._s(t.date))])])},N=[],U={name:"WeeklyForecast",props:{averageTemperature:{type:String,default:"21 c"},date:{type:String,default:"2022-05-15"},weather:{type:String,default:"Clear"},icon:{type:String,default:"04d"}},methods:{getWeatherIcon:function(){return"http://openweathermap.org/img/wn/".concat(this.icon,"@2x.png")}}},Y=U,$=(n("7101"),Object(g["a"])(Y,W,N,!1,null,"7799f57b",null)),P=$.exports,K={name:"Home",components:{Search:O,Button:I,DailyForecast:H,WeeklyForecast:P},data:function(){return{city:"",country:"",activeForecast:"DailyForecast",lon:"",lat:""}},computed:Object(s["a"])(Object(s["a"])({},Object(y["d"])("Weather",["dailyForecast","weeklyForecast"])),{},{isDailyActive:function(){return"DailyForecast"===this.activeForecast}}),methods:Object(s["a"])(Object(s["a"])({},Object(y["b"])("Weather",["getDailyForecast","getWeeklyForecast"])),{},{setActiveForecast:function(t){this.activeForecast=t,this.getForecasts()},selectHandler:function(t){var e=t.city,n=t.country,a=t.lon,r=t.lat;this.city=e,this.country=n,this.lon=a,this.lat=r,this.getForecasts()},getForecasts:function(){this.lon&&(this.isDailyActive?this.getDailyForecast({lon:this.lon,lat:this.lat}):this.getWeeklyForecast({lon:this.lon,lat:this.lat}))}})},M=K,B=(n("4042"),Object(g["a"])(M,i,o,!1,null,null,null)),Q=B.exports,V={components:{Home:Q}},q=V,J=(n("5c0b"),Object(g["a"])(q,r,c,!1,null,null,null)),Z=J.exports,z=n("8c4f");a["a"].use(z["a"]);var X,tt,et=[{path:"/",name:"Home",component:Q}],nt=new z["a"]({mode:"history",base:"/",routes:et}),at=nt,rt=n("1da1"),ct=(n("96cf"),n("99af"),n("bc3a")),it=n.n(ct),ot={PLACE_AUTOCOMPLETION_KEY:"29df98f40f4940088c9268ca7bcb7d59",WEATHER_KEY:"2445a65d9b8cda81e5fd02c90d3565c1"},st=(n("159b"),function(t){var e=[];return t.results.forEach((function(t){e.push({city:t.city,country:t.country,country_code:t.country_code,formatted:t.formatted,lat:t.lat,lon:t.lon})})),e}),ut={SET_SUGGESTIONS:"SET_SUGGESTIONS",CLEAR_SUGGESTIONS:"CLEAR_SUGGESTIONS"},lt=ut,pt={getCitiesSuggestions:function(t,e){return Object(rt["a"])(regeneratorRuntime.mark((function n(){var a,r,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=e.query,c=void 0===r?"":r,n.prev=2,n.next=5,it.a.get("https://api.geoapify.com/v1/geocode/autocomplete?text=".concat(c,"\n      &lang=en&limit=20&type=city&format=json&apiKey=").concat(ot.PLACE_AUTOCOMPLETION_KEY));case 5:i=n.sent,a(lt.SET_SUGGESTIONS,st(i.data)),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()}},dt=pt,ht=n("ade3"),ft=(X={},Object(ht["a"])(X,lt.SET_SUGGESTIONS,(function(t,e){t.suggestions=e})),Object(ht["a"])(X,lt.CLEAR_SUGGESTIONS,(function(t){t.suggestions=[]})),X),gt=ft,vt={},mt=vt,yt={suggestions:[]},_t=yt,St={namespaced:!0,state:_t,actions:dt,getters:mt,mutations:gt},bt=function(t){var e={temperature:t.current.temp,weather:t.current.weather[0].main,icon:t.current.weather[0].icon};return e},wt=(n("b680"),function(t,e){return(e+(t-e)/2).toFixed(1)}),xt=function(t){return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())},Et=function(t){var e=[];return t.forEach((function(t){var n=wt(t.temp.max,t.temp.min);e.push({icon:t.weather[0].icon,avgTemp:n,weather:t.weather[0].main,date:xt(new Date(1e3*t.dt))})})),e},Ot={SET_DAILY_FORECAST:"SET_DAILY_FORECAST",SET_WEEKLY_FORECAST:"SET_WEEKLY_FORECAST"},Ct=Ot,kt={dailyForecast:{},weeklyForecast:[]},At=kt,Tt={getDailyForecast:function(t,e){return Object(rt["a"])(regeneratorRuntime.mark((function n(){var a,r,c,i,o,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=e.lat,c=void 0===r?"":r,i=e.lon,o=void 0===i?"":i,n.prev=2,n.next=5,it.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c,"&lon=").concat(o,"&exclude=minutely,hourly,daily,alerts&units=metric&appid=").concat(ot.WEATHER_KEY,"\n      "));case 5:u=n.sent,l=Object(s["a"])({},bt(u.data)),a(Ct.SET_DAILY_FORECAST,l),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},getWeeklyForecast:function(t,e){return Object(rt["a"])(regeneratorRuntime.mark((function n(){var a,r,c,i,o,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=e.lat,c=void 0===r?"":r,i=e.lon,o=void 0===i?"":i,n.prev=2,n.next=5,it.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c,"&lon=").concat(o,"&exclude=current,minutely,hourly,alerts&units=metric&appid=").concat(ot.WEATHER_KEY,"\n      "));case 5:s=n.sent,u=Et(s.data.daily),a(Ct.SET_WEEKLY_FORECAST,u),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()}},Ft=Tt,It=(tt={},Object(ht["a"])(tt,Ct.SET_DAILY_FORECAST,(function(t,e){t.dailyForecast=e})),Object(ht["a"])(tt,Ct.SET_WEEKLY_FORECAST,(function(t,e){t.weeklyForecast=e})),tt),jt=It,Dt={},Lt=Dt,Rt={namespaced:!0,state:At,actions:Ft,getters:Lt,mutations:jt},Gt={SearchAutocompletion:St,Weather:Rt};a["a"].use(y["a"]);var Ht=new y["a"].Store({modules:Gt});a["a"].config.productionTip=!1,new a["a"]({router:at,store:Ht,render:function(t){return t(Z)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"662d":function(t,e,n){},7101:function(t,e,n){"use strict";n("35ea")},"82b0":function(t,e,n){"use strict";n("662d")},"8bcf":function(t,e,n){"use strict";n("09c3")},"9c0c":function(t,e,n){},ae72:function(t,e,n){"use strict";n("2473")},cf2e:function(t,e,n){"use strict";n("500d")},da96:function(t,e,n){}});
//# sourceMappingURL=app.80ba6dfc.js.map