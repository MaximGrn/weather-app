(function(e){function t(t){for(var a,o,s=t[0],i=t[1],u=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09c3":function(e,t,n){},2473:function(e,t,n){},"35ea":function(e,t,n){},4042:function(e,t,n){"use strict";n("da96")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("Home")],1)},c=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"home-page__wrapper"},[n("Search",{on:{"on-select":e.selectHandler}}),n("div",{staticClass:"home-page__body"},[n("div",{staticClass:"home-page__controls"},[n("WButton",{staticClass:"home-page__control",attrs:{text:"current",isActive:e.isDailyActive},nativeOn:{click:function(t){return e.setActiveForecast("DailyForecast")}}}),n("WButton",{staticClass:"home-page__control",attrs:{text:"7 day forecast",isActive:!e.isDailyActive},nativeOn:{click:function(t){return e.setActiveForecast("WeeklyForecast")}}})],1),n("div",{staticClass:"home-page__forecasts"},[n("div",{staticClass:"home-page__forecasts-location"},[n("p",{staticClass:"home-page__forecast-city"},[e._v(" "+e._s(e.city)+" ")]),n("p",{staticClass:"home-page__forecast-country"},[e._v(" "+e._s(e.country)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDailyActive,expression:"isDailyActive"}],staticClass:"home-page__active-forecast"},[e.dailyForecast.icon?n("DailyForecast",{attrs:{icon:e.dailyForecast.icon,weather:e.dailyForecast.weather,temperature:e.dailyForecast.temperature}}):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDailyActive,expression:"!isDailyActive"}],staticClass:"home-page__active-forecast"},e._l(e.weeklyForecast,(function(e,t){return n("WeeklyForecast",{key:t,attrs:{icon:e.icon,weather:e.weather,averageTemperature:e.avgTemp,date:e.date}})})),1)])])],1)])},s=[],i=n("5530"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-component"},[n("WInput",{staticClass:"search-component__input",on:{input:e.onInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onUpDown(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onUpDown(-1)}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSelect.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clearSuggestions.apply(null,arguments)}]},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}},[n("div",{staticClass:"search-component__search-btn"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"inherit",d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,\n          14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,\n          16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,\n          3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,\n          12 14,9.5C14,7 12,5 9.5,5Z"}})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.suggestions.length,expression:"suggestions.length"}],staticClass:"search-component__suggestions"},e._l(e.suggestions,(function(t,a){return n("div",{key:a,ref:"suggestion",refInFor:!0,class:["search-component__suggestion",e.activeSuggestedIndex===a?"search-component__suggestion--active":""],on:{click:function(n){return e.onSelect(t)}}},[e._v(" "+e._s(t.formatted)+" ")])})),0)],1)},l=[],p=(n("7db0"),n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-component"},[n("input",e._g(e._b({staticClass:"input-component__input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault()}]}},"input",e.$attrs,!1),e.listeners)),e._t("default")],2)}),d=[],f={name:"WInput",inheritAttrs:!1,props:{placeholder:{type:String,default:"Search..."},value:{type:String,default:""}},computed:{listeners:function(){return Object(i["a"])(Object(i["a"])({},this.$listeners),{},{input:this.inputHandler})}},methods:{inputHandler:function(e){this.$emit("input",e.target.value)}}},g=f,h=(n("a818"),n("2877")),y=Object(h["a"])(g,p,d,!1,null,"0794ed58",null),v=y.exports,m=n("2f62"),_=(n("99af"),function(e,t){var n;return function(){for(var a=this,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.call.apply(e,[a].concat(c))}),t)}}),S=_,w=S((function(){var e=this.getCitiesSuggestions,t=this.searchQuery;""===t||t.length<3||e(t)}),300),b={name:"Search",components:{WInput:v},data:function(){return{searchQuery:"",activeSuggestedIndex:0}},computed:Object(i["a"])({},Object(m["c"])("Search",["suggestions"])),methods:Object(i["a"])(Object(i["a"])({},Object(m["b"])("Search",["getCitiesSuggestions","clearSuggestions"])),{},{onInput:function(){w.call(this)},onUpDown:function(e){if(this.suggestions.length){var t=1===e&&this.activeSuggestedIndex===this.suggestions.length-1,n=-1===e&&(0===this.activeSuggestedIndex||-1===this.activeSuggestedIndex);if(t)return this.activeSuggestedIndex=0,void this.fixScrolling(this.activeSuggestedIndex);if(n)return this.activeSuggestedIndex=this.suggestions.length-1,void this.fixScrolling(this.activeSuggestedIndex);this.activeSuggestedIndex+=e,this.fixScrolling(this.activeSuggestedIndex)}},fixScrolling:function(e){this.$refs.suggestion[e].scrollIntoView()},onSelect:function(e){var t,n,a,r,c,o=this;if("string"===typeof e)t=e.lat,n=e.lon,a=e.city,r=e.country,c=e.formatted,this.searchQuery=c;else{var s=this.suggestions[this.activeSuggestedIndex];t=s.lat,n=s.lon,a=s.city,r=s.country,this.searchQuery=this.suggestions.find((function(e){return e===o.suggestions[o.activeSuggestedIndex]})).formatted}this.$refs.suggestion[0].scrollIntoView(),this.clearSuggestions(),this.$emit("on-select",{lat:t,lon:n,city:a,country:r}),this.activeSuggestedIndex=0}})},E=b,O=(n("8bcf"),Object(h["a"])(E,u,l,!1,null,null,null)),x=O.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-component"},[n("button",{class:["button-component__button",e.isActive?"button-component__button--active":""]},[e._v(" "+e._s(e.text)+" ")])])},k=[],A={name:"WButton",props:{isActive:{type:Boolean,default:!1},text:{type:String,default:"Submit"}}},F=A,T=(n("82b0"),Object(h["a"])(F,C,k,!1,null,null,null)),I=T.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"daily-forecast"},[n("img",{attrs:{src:e.getWeatherIcon()}}),n("p",{staticClass:"daily-forecast__temperature"},[e._v(" "+e._s(e.temperature)+" â„ƒ ")]),n("p",{staticClass:"daily-forecast__weather"},[e._v(" "+e._s(e.weather)+" ")])])},D=[],W=(n("a9e3"),{name:"DailyForecast",props:{temperature:{type:Number,default:20},weather:{type:String,default:"Clear"},icon:{type:String,default:"04d"}},methods:{getWeatherIcon:function(){return"http://openweathermap.org/img/wn/".concat(this.icon,"@2x.png")}}}),R=W,L=(n("ae72"),Object(h["a"])(R,j,D,!1,null,null,null)),G=L.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"weekly-forecast"},[n("img",{attrs:{src:e.getWeatherIcon()}}),e._v(" Avg temp: "),n("p",[e._v(e._s(e.averageTemperature)+" ")]),n("p",[e._v(e._s(e.weather))]),n("p",[e._v(e._s(e.date))])])},H=[],N={name:"WeeklyForecast",props:{averageTemperature:{type:String,default:"21 c"},date:{type:String,default:"2022-05-15"},weather:{type:String,default:"Clear"},icon:{type:String,default:"04d"}},methods:{getWeatherIcon:function(){return"http://openweathermap.org/img/wn/".concat(this.icon,"@2x.png")}}},Y=N,$=(n("7101"),Object(h["a"])(Y,U,H,!1,null,"7799f57b",null)),P=$.exports,K={name:"Home",components:{Search:x,WButton:I,DailyForecast:G,WeeklyForecast:P},data:function(){return{city:"",country:"",activeForecast:"DailyForecast",lon:"",lat:""}},computed:Object(i["a"])(Object(i["a"])({},Object(m["c"])("Weather",["dailyForecast","weeklyForecast"])),{},{isDailyActive:function(){return"DailyForecast"===this.activeForecast}}),methods:Object(i["a"])(Object(i["a"])({},Object(m["b"])("Weather",["getDailyForecast","getWeeklyForecast"])),{},{setActiveForecast:function(e){this.activeForecast=e,this.getForecasts()},selectHandler:function(e){var t=e.city,n=e.country,a=e.lon,r=e.lat;this.city=t,this.country=n,this.lon=a,this.lat=r,this.getForecasts()},getForecasts:function(){this.lon&&(this.isDailyActive?this.getDailyForecast({lon:this.lon,lat:this.lat}):this.getWeeklyForecast({lon:this.lon,lat:this.lat}))}})},M=K,Q=(n("4042"),Object(h["a"])(M,o,s,!1,null,null,null)),B=Q.exports,V={name:"App",components:{Home:B}},J=V,Z=Object(h["a"])(J,r,c,!1,null,null,null),q=Z.exports,z=n("8c4f");a["a"].use(z["a"]);var X,ee,te=[{path:"/",name:"Home",component:B}],ne=new z["a"]({mode:"history",base:"/",routes:te}),ae=ne,re=n("1da1"),ce=(n("96cf"),n("bc3a")),oe=n.n(ce),se={PLACE_AUTOCOMPLETION_KEY:"29df98f40f4940088c9268ca7bcb7d59",WEATHER_KEY:"2445a65d9b8cda81e5fd02c90d3565c1"},ie={GEO:"https://api.geoapify.com/v1/geocode",WEATHER:"https://api.openweathermap.org/data/2.5"},ue=(n("159b"),function(e){var t=[];return e.results.forEach((function(e){t.push({city:e.city,country:e.country,country_code:e.country_code,formatted:e.formatted,lat:e.lat,lon:e.lon})})),t}),le={SET_SUGGESTIONS:"SET_SUGGESTIONS",CLEAR_SUGGESTIONS:"CLEAR_SUGGESTIONS"},pe=le,de={getCitiesSuggestions:function(e){var t=arguments;return Object(re["a"])(regeneratorRuntime.mark((function n(){var a,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.length>1&&void 0!==t[1]?t[1]:"",n.prev=2,n.next=5,oe.a.get("".concat(ie.GEO,"/autocomplete"),{params:{text:"".concat(r),lang:"en",limit:20,type:"city",format:"json",apiKey:"".concat(se.PLACE_AUTOCOMPLETION_KEY)}});case 5:c=n.sent,a(pe.SET_SUGGESTIONS,ue(c.data)),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},clearSuggestions:function(e){var t=e.commit;t(pe.CLEAR_SUGGESTIONS)}},fe=de,ge=n("ade3"),he=(X={},Object(ge["a"])(X,pe.SET_SUGGESTIONS,(function(e,t){e.suggestions=t})),Object(ge["a"])(X,pe.CLEAR_SUGGESTIONS,(function(e){e.suggestions=[]})),X),ye=he,ve={suggestions:function(e){return e.suggestions}},me=ve,_e={suggestions:[]},Se=_e,we={namespaced:!0,state:Se,actions:fe,getters:me,mutations:ye},be=function(e){var t={temperature:e.current.temp,weather:e.current.weather[0].main,icon:e.current.weather[0].icon};return t},Ee=(n("b680"),function(e,t){return(t+(e-t)/2).toFixed(1)}),Oe=function(e){return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())},xe=function(e){var t=[];return e.forEach((function(e){var n=Ee(e.temp.max,e.temp.min);t.push({icon:e.weather[0].icon,avgTemp:n,weather:e.weather[0].main,date:Oe(new Date(1e3*e.dt))})})),t},Ce={SET_DAILY_FORECAST:"SET_DAILY_FORECAST",SET_WEEKLY_FORECAST:"SET_WEEKLY_FORECAST"},ke=Ce,Ae={dailyForecast:{},weeklyForecast:[]},Fe=Ae,Te={getDailyForecast:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var a,r,c,o,s,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.lat,c=void 0===r?"":r,o=t.lon,s=void 0===o?"":o,n.prev=2,n.next=5,oe.a.get("".concat(ie.WEATHER,"/onecall"),{params:{lat:"".concat(c),lon:"".concat(s),exclude:"minutely,hourly,daily,alerts",units:"metric",appid:"".concat(se.WEATHER_KEY)}});case 5:u=n.sent,l=Object(i["a"])({},be(u.data)),a(ke.SET_DAILY_FORECAST,l),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},getWeeklyForecast:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var a,r,c,o,s,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.lat,c=void 0===r?"":r,o=t.lon,s=void 0===o?"":o,n.prev=2,n.next=5,oe.a.get("".concat(ie.WEATHER,"/onecall"),{params:{lat:"".concat(c),lon:"".concat(s),exclude:"current,minutely,hourly,alerts",units:"metric",appid:"".concat(se.WEATHER_KEY)}});case 5:i=n.sent,u=xe(i.data.daily),a(ke.SET_WEEKLY_FORECAST,u),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()}},Ie=Te,je=(ee={},Object(ge["a"])(ee,ke.SET_DAILY_FORECAST,(function(e,t){e.dailyForecast=t})),Object(ge["a"])(ee,ke.SET_WEEKLY_FORECAST,(function(e,t){e.weeklyForecast=t})),ee),De=je,We={dailyForecast:function(e){return e.dailyForecast},weeklyForecast:function(e){return e.weeklyForecast}},Re=We,Le={namespaced:!0,state:Fe,actions:Ie,getters:Re,mutations:De},Ge={Search:we,Weather:Le};a["a"].use(m["a"]);var Ue=new m["a"].Store({modules:Ge});a["a"].config.productionTip=!1,new a["a"]({router:ae,store:Ue,render:function(e){return e(q)}}).$mount("#app")},"662d":function(e,t,n){},7101:function(e,t,n){"use strict";n("35ea")},"82b0":function(e,t,n){"use strict";n("662d")},"8bcf":function(e,t,n){"use strict";n("09c3")},a818:function(e,t,n){"use strict";n("c927")},ae72:function(e,t,n){"use strict";n("2473")},c927:function(e,t,n){},da96:function(e,t,n){}});
//# sourceMappingURL=app.b2c2cba5.js.map